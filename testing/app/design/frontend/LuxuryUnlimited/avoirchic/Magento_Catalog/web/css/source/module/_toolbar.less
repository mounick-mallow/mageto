@toolbar-mode-icon-font-size: 16px;
@toolbar-background: transparent;
@pager-action__background: @toolbar-element-background;
@pager__font-weight: @font-weight__bold;

//
//    Common
//  _____________________________________________

& when (@media-common = true) {
    .page-products {
        .columns {
            position: relative;
            z-index: 1;
        }
    }

    .toolbar {
        &:extend(.abs-add-clearfix all);

        .control,
        .sorter {
            display: inline-block;
            vertical-align: middle;
            position: relative;

            &:after {
                content: @icon-down;
                font-family: @icomoon-font-family;
                .lib-font-size(10);
                .lib-line-height(30);
                font-weight: @font-weight__regular;
                color: @theme__primary--color-500;
                position: absolute;
                right: 10px;
                top: 0;
                z-index: 1;
            }
        }

        select {
            height: 27px;
            border: 0;
            background: transparent;
            box-shadow: 0 0 0;
            color: @theme__primary--color-800;
            margin-left: 0;
            cursor: pointer;
            padding-right: 40px;
        }

        &-amount {
            font-weight: @font-weight__regular;
            color: @theme__primary--color-500;
            position: static;
            display: block;
            float: left;
            padding: 6px 0 0;
            margin: 0;
            text-align: left;
        }

        .page-with-filter & {
            &-amount {
                position: static;
            }
        }

        &-products {
            margin-bottom: 24px;

            .pages {
                display: none;

                .products.wrapper ~ & {
                    display: block;
                }
            }
        }

        .pages {
            margin-bottom: @indent__m;
        }

        .products.wrapper ~ & .pages {
            margin-bottom: 0;
            display: inline-block;
        }
    }

    .sorter {
        float: right;

        .page-products & {
            position: static;
        }

        &-label {
            display: none;
        }

        &-options {
            margin: 0 @indent__xs 0 7px;
            width: auto;
        }

        &-action {
            display: none;
        }

        select {
            font-weight: @font-weight__regular;
            color: @theme__primary--color-500;
        }
    }

    .modes {
        float: left;
        display: inline-block;
        margin-right: @indent__base;

        & > a {
            text-decoration: none;
        }

        &-label {
            &:extend(.abs-visually-hidden);
        }

        &-mode {
            float: left;
            border: 1px solid @custom__dark-ligher;
            font-weight: @font-weight__regular;
            text-align: center;
            width: 26px;
            line-height: 26px;
            .lib-css(background-color, @toolbar-element-background);
            display: block;
            margin-right: 5px;
            border-radius: 3px;

            &:last-child {
                margin-right: 0;
            }

            &.active,
            &:hover {
                background-color: @theme-color;
                border-color: @theme-color;
                color: @custom__color-white;
            }

            .lib-icon-font(
                @icon-grid,
                @_icon-font-size: @toolbar-mode-icon-font-size,
                @_icon-font-text-hide: true
            );

            &:before {
                display: block;
            }
        }
    }

    .mode-list:before {
        content: @icon-list;
    }

    .limiter {
        float: right;

        .products.wrapper ~ .toolbar & {
            display: block;
        }

        &-options {
            width: auto;
            margin: 0 5px 0 7px;
        }

        & .label,
        & .limiter-text {
            font-weight: @font-weight__regular;
            vertical-align: middle;
            color: @theme__primary--color-500;
        }
    }

    .products.wrapper {
        & ~ .toolbar {
            text-align: center;

            .toolbar-sorter,
            .toolbar-amount,
            .limiter {
                display: none;
            }
        }
    }
}

//
//  Desktop
//  _____________________________________________

.media-width(@extremum, @break)
    when
    (@extremum = 'min')
    and
    (@break = @screen__m) {
    .page-products {
        .columns {
            padding-top: 0;
        }
    }

    .toolbar-amount {
        .lib-font-size(18);
        .lib-line-height(35);
    }

    .sorter {
        select {
            .lib-font-size(18);
        }
    }
}

//
//    Mobile
//--------------------------------------

.media-width(@extremum, @break)
    when
    (@extremum = 'max')
    and
    (@break = @screen__m) {
    .toolbar-products {
        margin-bottom: 36px;
        position: relative;

        &:before {
            content: '';
            background: rgba(126, 125, 130, 0.3);
            height: 1px;
            position: absolute;
            display: block;
            left: -15px;
            right: -15px;
            top: 39px;
        }
    }

    .page-products {
        .sorter {
            float: right;
            position: relative;
        }
    }

    .limiter {
        & .label,
        & .limiter-text {
            .lib-font-size(12);
            .lib-line-height(18);
        }
    }

    .toolbar {
        .control,
        .sorter {
            &:after {
                top: 3px;
                .lib-line-height(18);
            }
        }
    }

    .sorter {
        select {
            .lib-font-size(14);
        }
    }
}

.media-width(@extremum, @break)
    when
    (@extremum = 'min')
    and
    (@break = @screen__s) {
    .page-products .columns {
        position: relative;
        z-index: 1;
        padding-top: 0;
    }
}
